# üìä Gest√£o de Data Center e M√©tricas em TI

Apresenta√ß√£o por **Gledson Scotti**  
Disciplina: **Cloud Computing**

---

## üìå Conceitos Fundamentais

### ‚úÖ Medida
> Quantifica√ß√£o de dados baseada em um padr√£o, considerando precis√£o, completude, consist√™ncia e temporalidade.  
Exemplo: Mbps como unidade de velocidade de link.

### ‚úÖ M√©trica
> Extrapola√ß√£o de medidas para gerar conclus√µes baseadas em dados finitos.  
Exemplo: Defeitos em um lote = n√∫mero de defeitos / total de unidades.

### ‚úÖ Indicador
> Representa√ß√£o simplificada de uma m√©trica, facilitando interpreta√ß√£o e tomada de decis√£o.  
Exemplo: Gr√°fico de disponibilidade de rede.

---

## üìà Principais M√©tricas de TI

### 1. Disponibilidade de Infraestrutura
- Monitoramento de ativos de rede:
  - Links de internet
  - Uso de banda
  - Tr√°fego em switches
  - Sensores de temperatura, umidade e corrente

### 2. Performance de Servidores
Monitoramento preventivo com foco em desempenho e estabilidade:

| Recurso    | Ferramentas Comuns                                  |
|------------|-----------------------------------------------------|
| Mem√≥ria    | `free`, `vmstat`, `mpstat`, `iostat`, `sar`, `htop` |
| CPU        | `vmstat`, `mpstat`, `iostat`, `sar`                 |
| I/O        | `iostat`, `vmstat`                                  |
| Processos  | `ipcs`, `ipcrm`, `dmesg`, `pidstat`                 |
| Rede       | `tcpdump`, `ping`, `ifstat`, `iptraf`, `vnstat`     |

### 3. M√©tricas de Chamados
- Tempo m√©dio de atendimento
- Tempo de resolu√ß√£o
- Avalia√ß√£o por setor ou tipo de problema

### 4. Seguran√ßa
- An√°lise de portas e atualiza√ß√µes
- Identifica√ß√£o de portas abertas indevidamente

### 5. ROI (Retorno sobre Investimento)
- Demonstra√ß√£o de valor de ativos em termos de:
  - Produtividade
  - Efici√™ncia operacional
  - Lucro ou economia gerada

---

## üõ†Ô∏è Ferramentas para Coleta e Visualiza√ß√£o

### üîß Automa√ß√£o de M√©tricas
- Coleta manual √© invi√°vel em larga escala
- Uso de ferramentas que automatizam a coleta e apresenta√ß√£o de dados

### üìä Ferramentas de Dashboard
#### Locais:
- `Webmin`
- `NetData`

#### Centralizadas:
- `Zabbix`
- `Nagios`
- `MRTG`
- `CACTI`

Essas ferramentas ajudam a visualizar, monitorar e alertar sobre m√©tricas cr√≠ticas em Data Centers e ambientes de TI corporativos.

---

## ‚úÖ Considera√ß√µes Finais

- M√©tricas e indicadores s√£o essenciais para a **gest√£o eficiente** de recursos em TI.
- Devem ser escolhidos conforme os objetivos estrat√©gicos da organiza√ß√£o.
- A combina√ß√£o de **m√©tricas operacionais** e **indicadores de neg√≥cio** √© chave para **decis√µes assertivas**.

# üì° Gest√£o de Data Center ‚Äì M√©tricas II

Apresenta√ß√£o por **Gledson Scotti**  
Disciplina: **Cloud Computing**

---

## üîç Tipos de Monitoramento em TI

### 1. Monitoramento por Agentes
- Requer instala√ß√£o de software na m√°quina monitorada
- Captura dados pr√©-configurados e envia ao Gerente
- Pode haver conflitos no sistema e coleta de dados fora de contexto

### 2. Monitoramento Sem Agentes
- Monitoramento simples com `ping` ou verifica√ß√£o de portas
- Foco apenas na **disponibilidade** do servi√ßo

### 3. Monitoramento via SNMP (Simple Network Management Protocol)
- Protocolo padr√£o, amplamente suportado por dispositivos de rede
- Utiliza **TCP/IP**, porta **UDP 161**
- Composto por:
  - Protocolo de comunica√ß√£o
  - Estrutura de base de dados (MIB - Management Information Base)
  - Objetos gerenci√°veis

### 4. Monitoramento via IPMI (Intelligent Platform Management Interface)
- Monitoramento de **hardware**
- Usado em servidores
- Fornece dados como temperatura, press√£o, falhas f√≠sicas
- Funciona mesmo offline
- Considerado menos seguro

---

## üóÇÔ∏è Componentes e Conceitos do SNMP

### üìë Estrutura
- Atua na camada de aplica√ß√£o (OSI)
- Baseado em RFCs:  
  - SMI: RFC 1155  
  - MIB-I: RFC 1156  
  - SNMPv1: RFC 1157  
  - MIB-II: RFC 1213  
  - SNMPv2: RFC 1902  
  - SNMPv3: RFC 3410  

### üß© Arquitetura
- **Agente SNMP**: presente no dispositivo monitorado
- **Gerente SNMP**: realiza solicita√ß√µes ao agente
- **MIB**: base de dados que armazena informa√ß√µes gerenciadas
- **OID (Object Identifier)**: identificador √∫nico de objetos

### üß† Classifica√ß√£o das Informa√ß√µes
- **Est√°tica**: configura√ß√µes fixas (ex: nome do dispositivo)
- **Din√¢mica**: dados que mudam frequentemente (ex: pacotes transferidos)
- **Estat√≠stica**: c√°lculos derivados das din√¢micas (ex: uso da CPU em %)

---

## üå≤ Estrutura da MIB

- Organizada em √°rvore hier√°rquica
- Cada objeto possui um **OID**
- Exemplo:
  - OID `1.3.6.1.2.1.5` ‚Üí objeto `icmp`
  - Representa√ß√£o alternativa: `iso.org.dod.internet.mgmt.mib-2.icmp`

---

## üß™ Comandos SNMP

### üì§ Consulta de Dados
- `snmpget`: recupera valor de um OID espec√≠fico  
  ```bash
  $ snmpget -v 1 -c public localhost SNMPv2-MIB::system.sysUpTime.0
  ```

- `snmpwalk`: percorre e exibe uma sub√°rvore da MIB  
  ```bash
  $ snmpwalk -v 1 -c public localhost .1.3.6.1.2.1.1
  ```

- `snmptable`: exibe dados de uma tabela SNMP  
  ```bash
  $ snmptable -v 1 -c public localhost .1.3.6.1.4.1.2021.10
  ```

### üõ†Ô∏è Modifica√ß√£o de Dados
- `snmpset`: altera valores na MIB  
  ```bash
  $ snmpset -c private -v 1 localhost system.sysName.0 s grade18.lncc.br
  ```

### üîÑ Tradu√ß√£o de OIDs
- `snmptranslate`: converte OIDs para formato textual e vice-versa  
  ```bash
  $ snmptranslate -Tp
  $ snmptranslate -On -IR sysDescr
  $ snmptranslate -Onf -IR sysDescr
  $ snmptranslate -Td -OS .1.3.6.1.2.1.1.1
  $ snmptranslate -Tp -OS .1.3.6.1.2.1.1
  ```

---

## üßë‚Äçüíª Atividade Pr√°tica (Ubuntu Mini no VirtualBox)

### üîß Instala√ß√£o e Configura√ß√£o
```bash
sudo su
apt-get update
apt-get install snmpd*
apt-get install snmp-mibs-downloader

vi /etc/snmp/snmp.conf
# Comentar 'mibs :' e adicionar:
mibs +ALL

vi /etc/snmp/snmpd.conf
# Descomentar ou adicionar:
rocommunity public

/etc/init.d/snmpd restart
snmpwalk -v 1 -c public localhost
```

### üß† Explora√ß√£o com MIBs (Ex: UCD-SNMP-MIB::laLoad)
- Utilizar `snmpwalk`, `snmpget`, `snmptable`, `snmptranslate` para estudar a MIB
- Apresentar v√≠deo demonstrando comandos e resultados

### ‚ö†Ô∏è Solu√ß√£o de Erro de MIB
```bash
sudo wget http://www.iana.org/assignments/ianaippmmetricsregistry-mib/ianaippmmetricsregistry-mib -O /var/lib/snmp/mibs/iana/IANA-IPPM-METRICS-REGISTRY-MIB

sudo wget http://pastebin.com/raw.php?i=p3QyuXzZ -O /usr/share/snmp/mibs/ietf/SNMPv2-PDU

sudo wget http://pastebin.com/raw.php?i=gG7j8nyk -O /usr/share/snmp/mibs/ietf/IPATM-IPMC-MIB
```

---

## ‚úÖ Considera√ß√µes Finais

- SNMP √© essencial para monitoramento automatizado e em tempo real
- A correta configura√ß√£o das MIBs permite an√°lise detalhada de desempenho
- Ferramenta vital na **administra√ß√£o de Data Centers e redes corporativas**

# üìà Trabalho Pr√°tico ‚Äì M√©tricas com SNMP e Zabbix

**Disciplina:** Cloud Computing  
**Professor:** Gledson Scotti  
**Objetivo:** Habilitar consulta SNMP entre duas VMs e instalar o Zabbix para capturar m√©tricas via SNMP.

---

## üß∞ Estrutura Inicial

1. **Pr√©-requisitos:**
   - VirtualBox instalado
   - Duas VMs com Ubuntu:
     - `Zabbix_Gerente` (Zabbix Server)
     - `Zabbix_Cliente` (SNMP habilitado)

2. **Configura√ß√£o de Rede:**
   - Em casa: Modo `Bridge`
   - Na faculdade: `Rede NAT` entre as VMs
   - Configure redirecionamento de portas para acesso Web/SSH

3. **Evitar Conflito de MAC e IP:**
   - Trocar MAC address das VMs
   - Definir IPs fixos com `netplan` ou `nmtui`

---

## üåê Configurando IP Fixo com Netplan

```bash
# Editar o arquivo de rede (substitua <arquivo> pelo nome real)
vi /etc/netplan/<arquivo>.yaml

network:
  version: 2
  renderer: networkd
  ethernets:
    enp0s3:
      dhcp4: no
      addresses: [192.168.20.200/24]
      gateway4: 192.168.20.1
      nameservers:
        addresses: [8.8.8.8,8.8.4.4]

# Aplicar altera√ß√µes
netplan apply
```

---

## üîß Instala√ß√£o do Zabbix (Servidor)

### 1. Instalar utilit√°rios e depend√™ncias

```bash
apt-get install openssh-server -y      # Habilita acesso SSH
apt-get install snmp                   # Instala suporte a SNMP
passwd root                            # Define senha root
apt-get install snmp-mibs-downloader   # Traduz OIDs para nomes amig√°veis
```

> üìù Se houver problema com MIBs, usar a solu√ß√£o da aula anterior para atualizar arquivos MIB corrompidos.

---

## üì¶ Instala√ß√£o do Zabbix Server, Frontend e Agent

### 2. Baixar e ativar o reposit√≥rio

```bash
wget https://repo.zabbix.com/zabbix/6.4/ubuntu/pool/main/z/zabbix-release/zabbix-release_6.4-1+ubuntu22.04_all.deb
dpkg -i zabbix-release_6.4-1+ubuntu22.04_all.deb
apt update
```

### 3. Instalar os pacotes do Zabbix

```bash
apt install zabbix-server-mysql zabbix-frontend-php zabbix-apache-conf zabbix-sql-scripts zabbix-agent
```

---

## üóÉÔ∏è Banco de Dados MySQL

### 4. Criar base de dados e usu√°rio

```bash
mysql -uroot -p
# No prompt do MySQL:
create database zabbix character set utf8mb4 collate utf8mb4_bin;
create user zabbix@localhost identified by 'password';
grant all privileges on zabbix.* to zabbix@localhost;
set global log_bin_trust_function_creators = 1;
quit;
```

### 5. Importar esquema de dados do Zabbix

```bash
zcat /usr/share/zabbix-sql-scripts/mysql/server.sql.gz | mysql --default-character-set=utf8mb4 -uzabbix -p zabbix
```

### 6. Reverter altera√ß√£o tempor√°ria

```bash
mysql -uroot -p
set global log_bin_trust_function_creators = 0;
quit;
```

---

## ‚öôÔ∏è Configura√ß√£o Final

### 7. Configurar senha do banco

```bash
vi /etc/zabbix/zabbix_server.conf
# Adicionar:
DBPassword=password
```

### 8. Configurar fuso hor√°rio do PHP

```bash
vi /etc/zabbix/apache.conf
# Descomentar e ajustar:
php_value date.timezone America/Sao_Paulo
```

### 9. Iniciar servi√ßos e habilitar no boot

```bash
systemctl restart zabbix-server zabbix-agent apache2
systemctl enable zabbix-server zabbix-agent apache2
```

---

## üåê Acesso ao Zabbix Web

- URL: `http://ip_do_servidor_zabbix/zabbix`  
- Login: **Admin**  
- Senha: **zabbix**

---

## üìä Entreg√°veis do Trabalho

- 3 m√©tricas via **SNMP**
- 2 m√©tricas via **verifica√ß√£o simples**
- V√≠deo com at√© **30 segundos** mostrando as m√©tricas no painel
- Justifique sua escolha de m√©tricas e explique seu valor para a organiza√ß√£o

---

## üîó Refer√™ncias √öteis

- [Documenta√ß√£o oficial do Zabbix ‚Äì SNMP](https://www.zabbix.com/documentation/current/pt/manual/config/items/itemtypes/snmp)  
- [Download Zabbix 6.4 para Ubuntu](https://www.zabbix.com/br/download?zabbix=6.4&os_distribution=ubuntu&os_version=22.04&components=server_frontend_agent&db=mysql&ws=apache)

# üîê Proxy e Firewall ‚Äì Cloud Computing

**Professor:** Gledson Scotti  
**Disciplina:** Cloud Computing  

---

## üß≠ O que √© Proxy?

- √â um servi√ßo intermedi√°rio entre cliente e servidor.
- Pode repassar requisi√ß√µes ou atend√™-las via cache local.
- Otimiza banda, fornece anonimato e aplica filtros de acesso.
- Usado para controle de tr√°fego e aumento de desempenho.

### Principais fun√ß√µes:
- Armazenamento em cache
- Compartilhamento de internet
- Filtros por IP, URL, dom√≠nio
- Anonimato (com riscos de seguran√ßa)

---

## üß± Tipos de Proxy

### üîç Proxy Transparente
- Intercepta e redireciona tr√°fego sem interven√ß√£o do usu√°rio.
- Usado para for√ßar uso de proxy.
- Utiliza t√©cnica de port forwarding via iptables.

```bash
iptables -t nat -A PREROUTING -i eth1 -s 10.0.0.1/24 -p tcp -m multiport --dport 80,443 -j DNAT --to-destination 10.0.0.100:3128
```

### üîÅ Proxy Reverso
- Recebe requisi√ß√µes e redireciona ao servidor real.
- Comum em balanceadores de carga como:
  - Nginx, HAProxy, AWS ELB
- Pode fazer cache e balanceamento de carga.

---

## üöÄ CDN ‚Äì Content Delivery Network
- Distribui conte√∫do para locais pr√≥ximos ao usu√°rio final.
- Reduz lat√™ncia, melhora desempenho e mitiga DDoS.

---

## ‚öñÔ∏è Proxy como Load Balancer

### Tipos de Balanceamento:

- **Round Robin**: distribui em sequ√™ncia.
- **Weighted Round Robin**: servidores com pesos diferentes.
- **Least Connections**: menos conex√µes ativas.
- **Weighted Least Connections**: igual ao anterior com pesos.
- **Random**: distribui√ß√£o aleat√≥ria.

---

## üåê Principais Balanceadores de Carga

| Nome       | Linguagem | Camada OSI | Estrelas GitHub |
|------------|-----------|------------|------------------|
| Traefik    | Golang    | 7 (App)    | 27.7k            |
| NGINX      | C         | 7 (App)    | 11.3k            |
| HAProxy    | C         | 4 e 7      | 1.1k             |
| Neutrino   | Scala     | 4 e 7      | 265              |

---

## ‚úÖ Vantagens do Proxy

- Redu√ß√£o de tr√°fego externo
- Al√≠vio de carga ao servidor
- Redu√ß√£o de lat√™ncia
- Possibilidade de acesso offline (via cache)
- Monitoramento e inibi√ß√£o de uso indevido

---

## üß™ Exerc√≠cio: Instalando o Proxy Squid

### 1. Instalar o Squid
```bash
sudo apt-get install squid3
```

### 2. Configurar o arquivo squid.conf
```bash
sudo vi /etc/squid/squid.conf
```
- Descomentar:
  ```http_port 3128```
- Substituir:
  ```http_access deny all``` por ```http_access allow all```

### 3. Ajustar permiss√µes e rodar Squid
```bash
sudo chmod 777 /etc/squid/squid.conf
sudo squid /etc/squid/squid.conf
```

### 4. Reiniciar o servi√ßo
```bash
sudo squid -k reconfigure
```

---

## üß™ Exerc√≠cio: Testar Logs de Acesso

- Configure o proxy no SO cliente (ex: Windows):
  - Acesse: Ferramentas ‚Üí Op√ß√µes da Internet ‚Üí Conex√µes ‚Üí Configura√ß√µes da LAN
  - Marque "Usar um servidor Proxy"
  - Preencha IP e porta (ex: 3128)

- Monitore logs com:
```bash
tail -f /var/log/squid/access.log
```

- Teste a navega√ß√£o e observe se todos os sites funcionam.

---

## üîê Considera√ß√µes Finais

- O uso de proxy traz seguran√ßa, controle e desempenho.
- √â fundamental em redes corporativas e em servidores com alta demanda.
- A pr√°tica com Squid permite compreender a aplica√ß√£o real desses conceitos.

# üîê Firewall, NAT e Proxy ‚Äì Introdu√ß√£o

**Professor:** Gledson Scotti  
**Disciplina:** Cloud Computing  

---

## üöß O que √© um Firewall?

Um **firewall** √© um componente (ou conjunto de componentes) que **restringe o acesso entre redes**, atuando como uma barreira de prote√ß√£o entre:

- Redes internas e a Internet
- Ou entre duas redes com n√≠veis diferentes de seguran√ßa

üìå Origem do nome: vem das "portas corta-fogo" utilizadas em edif√≠cios para evitar a propaga√ß√£o de inc√™ndios.

### üõ°Ô∏è Prop√≥sitos principais:
- Controlar entrada e sa√≠da de tr√°fego
- Proteger redes privadas contra acessos n√£o autorizados
- Centralizar pontos de acesso

---

## üîç Tipos de Firewall

### 1. üîé Filtros de Pacotes (Packet Filtering)
- Analisa cabe√ßalhos de pacotes IP
- Permite ou bloqueia pacotes com base em regras simples (ex: IP, porta, protocolo)

### 2. üß† Filtros Din√¢micos
- Mais inteligentes
- Acompanham o estado das conex√µes para decis√µes mais contextuais

### 3. üåê Proxy (como Firewall)
- Atua como intermedi√°rio entre o cliente e a Internet
- Pode filtrar, logar e controlar acessos
- Exemplos: Squid, Zscaler

### 4. üîÑ NAT (Network Address Translation)
- Tradu√ß√£o de endere√ßos IP entre redes
- Muito usado para permitir que redes privadas acessem a Internet com poucos IPs v√°lidos

---

## üåç Tipos de NAT

| Tipo                | Fun√ß√£o                                                                 |
|---------------------|------------------------------------------------------------------------|
| **SNAT** (Source)   | Altera o IP de **origem** (sa√≠da) ‚Äì usado para dar acesso √† Internet   |
| **DNAT** (Destiny)  | Altera o IP de **destino** ‚Äì usado para expor servi√ßos internos        |
| **NAT Est√°tico**    | Um IP privado ‚Üí um IP p√∫blico (1-para-1)                               |
| **NAT Din√¢mico**    | V√°rios IPs privados ‚Üí um IP p√∫blico (N-para-1, tamb√©m chamado *masquerading*) |

---

## üß© UTM vs NGFW

| Tipo     | Foco | Caracter√≠sticas |
|----------|------|------------------|
| **UTM** (Unified Threat Management) | Facilidade de uso | Combina firewall com antiv√≠rus, antispam, filtro de conte√∫do |
| **NGFW** (Next Generation Firewall) | Flexibilidade e seguran√ßa avan√ßada | Permite personaliza√ß√£o, inspe√ß√£o profunda de pacotes, detec√ß√£o de malware |

### ‚ú≥Ô∏è Diferen√ßa:
- UTM = tudo-em-um, ideal para pequenas/m√©dias empresas
- NGFW = mais configur√°vel, ideal para empresas com demandas espec√≠ficas

---

## üìä Qual escolher?

- üîß **UTM**: melhor para quem precisa de configura√ß√£o r√°pida e gest√£o centralizada
- üß† **NGFW**: indicado para quem precisa de **controle granular** e personaliza√ß√£o

---

## üõ†Ô∏è Exemplos pr√°ticos (com comandos)

### üîÑ Exemplo de NAT com iptables (SNAT/DNAT)

```bash
# Exemplo de redirecionamento (DNAT)
iptables -t nat -A PREROUTING -i eth0 -p tcp --dport 80 -j DNAT --to-destination 192.168.0.10:80

# Exemplo de mascaramento (SNAT/NAT din√¢mico)
iptables -t nat -A POSTROUTING -o eth0 -j MASQUERADE
```

---

## üß± Marcas Conhecidas de Firewall

- Fortinet
- Cisco ASA
- Palo Alto
- Sophos
- Check Point
- pfSense
- SonicWall

---

## üîó Refer√™ncias

- [Symmetry: NGFW e UTM](https://www.symmetry.com.br/next-generation-utm-firewall)

---

## ‚úÖ Conclus√£o

O firewall √© essencial para a seguran√ßa de redes. N√£o basta instalar; √© necess√°rio **planejamento, topologia adequada e defini√ß√£o de pol√≠ticas**.

üéØ **Resumo:**
- Entenda as necessidades da sua rede
- Escolha o tipo de firewall mais adequado (UTM ou NGFW)
- Aplique pol√≠ticas claras de acesso e monitore constantemente

# üî• Firewall com UFW e IPTables ‚Äì Pr√°tica

**Professor:** Gledson Scotti  
**Disciplina:** Cloud Computing  

---

## üîê O que √© UFW?

**UFW (Uncomplicated Firewall)** √© uma interface simplificada para o IPTables.  
Permite configurar regras de firewall de forma mais acess√≠vel, especialmente no **Ubuntu**.

- üîí Foco em firewalls baseados em host (*host-based firewall*)
- üö´ Por padr√£o, est√° desativado no Ubuntu
- ‚úÖ Suporte a IPv4 e IPv6
- üìÅ Regras armazenadas em `/etc/ufw/*.rules`

---

## ‚öôÔ∏è Comandos B√°sicos

### ‚ûï Habilitar o UFW:
```bash
sudo ufw enable
```

### üîé Verificar status detalhado:
```bash
sudo ufw status verbose
```

### ‚ûñ Desativar o UFW:
```bash
sudo ufw disable
```

---

## üìú Visualizar Regras Atuais

```bash
sudo ufw show raw
```

---

## ‚úÖ Permitir Conex√µes

### Por porta (qualquer protocolo):
```bash
sudo ufw allow 53
```

### Por porta e protocolo:
```bash
sudo ufw allow 53/tcp
sudo ufw allow 53/udp
```

---

## ‚ùå Bloquear Conex√µes

### Por porta (qualquer protocolo):
```bash
sudo ufw deny 53
```

### Por porta e protocolo:
```bash
sudo ufw deny 53/tcp
sudo ufw deny 53/udp
```

---

## üßπ Remover Regras

Se a regra for:
```bash
sudo ufw deny 80/tcp
```

Remova com:
```bash
sudo ufw delete deny 80/tcp
```

---

## üìõ Usando Nome de Servi√ßo

Lista de servi√ßos dispon√≠veis:
```bash
less /etc/services
```

### Permitir:
```bash
sudo ufw allow ssh
```

### Bloquear:
```bash
sudo ufw deny ssh
```

---

## üìã Ativar ou Desativar Logs

### Habilitar log:
```bash
sudo ufw logging on
```

### Desabilitar log:
```bash
sudo ufw logging off
```

---

## üì° Regras Avan√ßadas com IPs

### Permitir IP espec√≠fico:
```bash
sudo ufw allow from 207.46.232.182
```

### Permitir Sub-rede:
```bash
sudo ufw allow from 192.168.1.0/24
```

### Permitir Porta + IP:
```bash
sudo ufw allow from 192.168.0.4 to any port 22
```

### Porta + IP + Protocolo:
```bash
sudo ufw allow from 192.168.0.4 to any port 22 proto tcp
```

---

## ‚õî Negar por IP e Porta

### Negar IP:
```bash
sudo ufw deny from 207.46.232.182
```

### Negar IP + Porta:
```bash
sudo ufw deny from 192.168.0.1 to any port 22
```

---

## üß™ Exerc√≠cio Proposto

### Cen√°rio:

1. **Bloquear** acesso √† porta 22 dos IPs:
   - `192.168.5.1`
   - `192.168.5.7`

2. **Permitir** os outros IPs da rede `192.168.0.x` para acesso √† porta 22 usando **TCP**.

3. Depois, **bloquear** tamb√©m o IP `192.168.5.3`.

### Sugest√£o de comandos:

```bash
sudo ufw deny from 192.168.5.1 to any port 22 proto tcp
sudo ufw deny from 192.168.5.7 to any port 22 proto tcp
sudo ufw allow from 192.168.0.0/24 to any port 22 proto tcp
sudo ufw deny from 192.168.5.3 to any port 22 proto tcp
```

---

## ‚úÖ Considera√ß√µes Finais

- UFW simplifica o uso do iptables.
- Ideal para administradores iniciantes.
- Pode ser usado com regras b√°sicas e avan√ßadas.
- Logs ajudam no diagn√≥stico e controle de tr√°fego.

# üê≥ Introdu√ß√£o ao Docker

**Professor:** Gledson Scotti  
**Disciplina:** Cloud Computing  

---

## üì¶ Contexto e Problema

Voc√™ desenvolveu um sistema e precisa coloc√°-lo em produ√ß√£o. Isso envolve configurar servidores, instalar depend√™ncias e adaptar o ambiente ‚Äî um processo **lento, repetitivo e sujeito a erros**.

Com Docker, voc√™ empacota cada camada da aplica√ß√£o (frontend, backend, banco etc.) em **containers padronizados**, garantindo consist√™ncia e portabilidade entre diferentes ambientes.

---

## üöÄ Conceitos Fundamentais

### Docker √©:
- Um **isolador de servi√ßos** (web server, banco, app)
- Utiliza **Linux Containers (LXC)**
- N√£o virtualiza o hardware nem cria sistemas operacionais inteiros
- Compartilha o **kernel do host**, o que garante **alta performance**

---

## üß∞ Componentes do Ecossistema Docker

- **Docker Engine**: Daemon + cliente CLI
- **Docker Compose**: Define e executa m√∫ltiplos containers via arquivo `.yaml`
- **Docker Machine**: Gera ambientes Docker em VMs, nuvens ou m√°quinas f√≠sicas

---

## üÜö Container vs M√°quina Virtual

| Container            | M√°quina Virtual          |
|----------------------|--------------------------|
| Compartilha kernel    | Cada VM tem seu SO pr√≥prio |
| Leve e r√°pido         | Pesado e mais lento       |
| Inicia em segundos    | Pode demorar minutos      |

---

## üß™ Comandos B√°sicos

### üîç Verificar imagens locais:
```bash
docker image list
```

### ‚¨áÔ∏è Baixar uma imagem:
```bash
docker image pull python
```

### üîç Detalhar imagem:
```bash
docker image inspect python
```

### ‚ñ∂Ô∏è Executar container:
```bash
docker container run -it --rm --name meu_python python bash
```

### Par√¢metros importantes:
- `-i`: modo interativo  
- `-t`: terminal (TTY)  
- `--rm`: remove o container ap√≥s execu√ß√£o  
- `--name`: nomeia o container

---

## üìÇ Volume e Porta

### üìÅ Mapear volume:
```bash
docker container run -it --rm -v "/caminho_host:/caminho_container" python
```

### üåê Mapear porta:
```bash
docker container run -it --rm -p 80:8080 python
```

---

## üìâ Limite de Recursos

### üíæ RAM:
```bash
docker container run -it --rm -m 512M python
```

### üß† CPU:
```bash
docker container run -it --rm -c 512 python
```

---

## üîÑ Execu√ß√£o e Listagem de Containers

### üìú Listar containers:
```bash
docker container list -a
```

### üõë Parar e iniciar:
```bash
docker container stop meu_python
docker container start meu_python
```

---

## üìÑ Dockerfile Exemplo

```Dockerfile
FROM ubuntu
LABEL name="satcnginx"
MAINTAINER Gledson Scotti <gledson.scotti@satc.edu.br>
RUN apt update
RUN apt install nginx -y
```

### üî® Build da imagem:
```bash
sudo docker build -t nginx .
```

### ‚ñ∂Ô∏è Executar NGINX:
```bash
docker run -d -p 8000:80 nginx /usr/sbin/nginx -g "daemon off;"
```

### üîé Testar:
```bash
curl -IL http://localhost:8000
```

---

## üåê Redes no Docker

### üîç Ver redes:
```bash
docker network ls
```

Padr√µes:
- `bridge`: padr√£o
- `host`: usa a rede do host
- `none`: sem acesso √† rede

### üîß Criar nova rede:
```bash
docker network create --driver bridge isolated_satc
```

### üì• Associar container √† rede:
```bash
docker container run -itd --net isolated_satc ubuntu bash
```

---

## üßæ Comandos Essenciais Docker

```bash
sudo docker info              # Informa√ß√µes gerais
sudo docker version           # Vers√£o do cliente/servidor
sudo docker images            # Lista imagens locais
sudo docker search nginx      # Busca imagem no Docker Hub
sudo docker pull nginx        # Baixa imagem
sudo docker run nginx         # Executa imagem
sudo docker ps -a             # Lista containers
sudo docker stats <ID>        # Exibe uso de recursos
sudo docker inspect <ID>      # Detalhes em JSON
sudo docker rmi <imagem>      # Remove imagem
sudo docker rm <container>    # Remove container
sudo docker attach <ID>       # Anexa ao terminal do container
sudo docker exec <ID> bash    # Executa comando dentro do container
sudo docker start/stop <ID>   # Inicia ou para container
```

---

## ‚öôÔ∏è Exemplos de Execu√ß√£o

```bash
# Ubuntu em modo detach
sudo docker run -it -d ubuntu /bin/bash

# Nginx na porta 8080 do host
sudo docker run -it -p 8080:80 nginx
```

---

## üß† Limites e Inspe√ß√£o

### üîí Container com 512MB:
```bash
docker run -it -m 512M --name app01 debian
docker inspect app01 | grep -i mem
```

### üß† Limitar a 0.5 CPU:
```bash
docker run -it --cpus=0.5 --name app02 debian
docker inspect app02 | grep -i cpu
```

### üîÅ Atualizar recursos:
```bash
docker container update -m 256m --cpus=1 app_novo01
```

---

## üì¶ Exportar e Importar Container

```bash
docker export meucontainer | gzip > meucontainer.gz
zcat meucontainer.gz | docker import - meucontainer
docker run -it meucontainer bash
```

---

## üñ•Ô∏è Ferramentas Visuais para Docker

1. Kitematic  
2. Portainer  
3. DockStation  
4. Shipyard  
5. Docker Compose UI  
6. Rancher

---

## ‚úÖ Conclus√£o

- Docker √© leve, r√°pido e poderoso.
- Ideal para desenvolvimento, testes e deploy.
- Containers garantem consist√™ncia entre ambientes.
- Ferramentas visuais facilitam a ado√ß√£o em ambientes corporativos.

Quest√£o:1
Qual √© o protocolo de transporte usado pelo DHCP?
R= UDP

Quest√£o:2
Qual √© o prop√≥sito principal de uma VLAN?
R= Criar redes l√≥gicas independentes em uma mesma rede f√≠sica

Quest√£o:3
Qual comando habilita o UFW em um sistema Ubuntu?
R= sudo ufw enable

Quest√£o:4
Qual protocolo √© usado pelo SNMP para atuar na camada de aplica√ß√£o?
R= UDP

Quest√£o:5
Qual √© a principal fun√ß√£o de um proxy reverso?
R= Receber requisi√ß√µes e deleg√°-las ou devolver p√°ginas pr√©-processadas

Quest√£o:6
Qual comando SNMP obt√©m um ramo inteiro de OIDs?
R= snmpwalk

Quest√£o:7
Quais das op√ß√µes abaixo s√£o benef√≠cios do protocolo VTP? (Escolha todas que se aplicam)
R= Consist√™ncia da configura√ß√£o de VLANs na rede
   Adi√ß√£o de VLANs plug-and-play

Quest√£o:8
Quais informa√ß√µes o servidor DHCP pode fornecer ao cliente? (Escolha todas que se aplicam)
R= Endere√ßo IP tempor√°rio.
   M√°scara de rede
   Nome e endere√ßo IP do servidor DNS

Quest√£o:9
Quais s√£o os modos de opera√ß√£o do VTP? (Escolha todas que se aplicam)
R= Servidor.
   Cliente
   Transparente


Quest√£o:10
Quais ferramentas s√£o mencionadas como solu√ß√µes de monitoramento de m√©tricas em TI? (Escolha todas que se aplicam)
R= Zabbix
   Nagios

Quest√£o:11
Qual √© a terceira etapa no processo de opera√ß√£o do DHCP, que ocorre ap√≥s o DHCP Offer e antes do DHCP Ack?
R= DHCP Request

Quest√£o:12
Qual comando deve ser usado para atribuir a porta FastEthernet 0/2 de um switch √† VLAN est√°tica chamada 'Financeiro' com ID 100?
R= switchport access vlan 100


Quest√£o:13
Qual √© o comando correto para permitir acesso de um IP espec√≠fico (192.168.0.4) √† porta 22 com protocolo TCP usando UFW?
R= sudo ufw allow from 192.168.0.4 to any port 22 proto tcp


Quest√£o:14
Qual porta do protocolo UDP √© utilizada pelo SNMP?
R= 161


Quest√£o:15
Quais endere√ßos s√£o usados como base para configurar uma VLAN din√¢mica?
R= MAC e IP

Quest√£o:16
Qual √© o nome do pacote que deve ser instalado para configurar o servidor de proxy/cache Squid no Ubuntu, conforme o exerc√≠cio pr√°tico feito em sala de aula?
R= squid

Quest√£o:17
Qual comando SNMP √© usado para traduzir OIDs de forma textual para num√©rica ou vice-versa?
R= snmptranslate

Quest√£o:18
Qual √© a principal diferen√ßa entre a virtualiza√ß√£o por m√°quinas virtuais e a virtualiza√ß√£o por containers?
R= A virtualiza√ß√£o por containers compartilha partes do kernel do host, resultando em menor sobrecarga.


Quest√£o:19
Qual comando Docker pode ser usado para visualizar informa√ß√µes detalhadas sobre uma imagem, como a imagem "python", incluindo configura√ß√µes e metadados?
R= docker image inspect python


Quest√£o:20
Qual √© o comando correto para iniciar um container a partir da imagem "ubuntu" na rede personalizada "isolated_satc", em modo interativo, com um terminal alocado e que seja removido automaticamente ap√≥s a finaliza√ß√£o?
R= docker container run -it --rm --net isolated_satc ubuntu bash

1) Qual √© o protocolo de transporte usado pelo DHCP?
‚úÖ Gabarito: B | Sua resposta: B ‚úîÔ∏è

2) Qual √© o prop√≥sito principal de uma VLAN?
‚úÖ Gabarito: B | Sua resposta: B ‚úîÔ∏è

3) Qual comando habilita o UFW em um sistema Ubuntu?
‚úÖ Gabarito: B | Sua resposta: B ‚úîÔ∏è

4) Qual protocolo √© usado pelo SNMP para atuar na camada de aplica√ß√£o?
‚úÖ Gabarito: B | Sua resposta: B ‚úîÔ∏è

5) Qual √© a principal fun√ß√£o de um proxy reverso?
‚úÖ Gabarito: B | Sua resposta: B ‚úîÔ∏è

6) Qual tipo de armazenamento √© conectado diretamente a um √∫nico computador?
‚úÖ Gabarito: C | Sua resposta: C ‚úîÔ∏è

7) Qual comando SNMP obt√©m um ramo inteiro de OIDs?
‚úÖ Gabarito: C | Sua resposta: C ‚úîÔ∏è

8) Quais s√£o os benef√≠cios do protocolo VTP?
‚úÖ Gabarito: A, D | Sua resposta: B, A, D ‚ùå
üî∏ Coment√°rio: Letra B est√° incorreta, pois n√£o √© um benef√≠cio do VTP.

9) Quais informa√ß√µes o servidor DHCP pode fornecer?
‚úÖ Gabarito: B, D | Sua resposta: B, C, D ‚ùå
üî∏ Coment√°rio: Letra C (MAC do cliente) n√£o √© fornecida pelo servidor DHCP.

10) Modos de opera√ß√£o do VTP:
‚úÖ Gabarito: A, B, C | Sua resposta: A, B ‚ùå
üî∏ Coment√°rio: Faltou incluir a letra C (Transparente).

11) Protocolos usados por NAS:
‚úÖ Gabarito: A, B | Sua resposta: B, D ‚ùå
üî∏ Coment√°rio: SNMP (D) n√£o √© protocolo t√≠pico de compartilhamento usado por NAS.

12) Ferramentas de monitoramento de m√©tricas:
‚úÖ Gabarito: A, B, D | Sua resposta: A, B, D ‚úîÔ∏è

13) Terceira etapa do DHCP:
‚úÖ Gabarito: B | Sua resposta: B ‚úîÔ∏è

14) Comando para atribuir porta a VLAN:
‚úÖ Gabarito: B | Sua resposta: A ‚ùå

15) Comando UFW para liberar IP/porta:
‚úÖ Gabarito: B | Sua resposta: B ‚úîÔ∏è

16) Porta UDP usada pelo SNMP:
‚úÖ Gabarito: B | Sua resposta: B ‚úîÔ∏è

17) Base para VLAN din√¢mica:
‚úÖ Gabarito: B | Sua resposta: B ‚úîÔ∏è

18) Pacote para instalar o Squid:
‚úÖ Gabarito: A | Sua resposta: B ‚ùå

19) Sistema base do TrueNAS:
‚úÖ Gabarito: C | Sua resposta: A ‚ùå

20) Comando SNMP para traduzir OIDs:
‚úÖ Gabarito: D | Sua resposta: D ‚úîÔ∏è

‚úÖ Resumo da pontua√ß√£o:
Acertos: 14

Erros: 6

Aproveitamento: 70%

Se quiser, posso gerar uma vers√£o corrigida ou em PDF com destaque para estudo. Deseja isso?





Voc√™ disse:
MAS TIRANDO O GABARITO DO BLOCO DE NOTAS O QUE EST√Å CERTO E ERRADO DE VERDADE EXPLICANDO CADA PERGUNTA


O ChatGPT disse:
Perfeito! Vamos analisar cada uma das suas respostas, comparando com o conte√∫do t√©cnico correto sem olhar o gabarito presente no bloco de notas. Isso vai garantir que voc√™ aprenda o conte√∫do de forma fundamentada e entenda o porqu√™ de cada quest√£o estar certa ou errada.

1) Qual √© o protocolo de transporte usado pelo DHCP?
Sua resposta: B) UDP ‚úÖ
Explica√ß√£o: DHCP (Dynamic Host Configuration Protocol) utiliza o protocolo UDP nas portas 67 (servidor) e 68 (cliente).
Status: ‚úîÔ∏è Correto

2) Qual √© o prop√≥sito principal de uma VLAN?
Sua resposta: B) Criar redes l√≥gicas independentes em uma mesma rede f√≠sica ‚úÖ
Explica√ß√£o: VLANs permitem segmentar uma rede f√≠sica em v√°rias redes l√≥gicas para melhorar a organiza√ß√£o e a seguran√ßa.
Status: ‚úîÔ∏è Correto

3) Qual comando habilita o UFW em um sistema Ubuntu?
Sua resposta: B) sudo ufw enable ‚úÖ
Explica√ß√£o: Este √© o comando correto para ativar o Uncomplicated Firewall (UFW).
Status: ‚úîÔ∏è Correto

4) Qual protocolo √© usado pelo SNMP para atuar na camada de aplica√ß√£o?
Sua resposta: B) UDP ‚úÖ
Explica√ß√£o: O SNMP (Simple Network Management Protocol) usa o UDP por ser mais leve, especialmente na porta 161.
Status: ‚úîÔ∏è Correto

5) Qual √© a principal fun√ß√£o de um proxy reverso?
Sua resposta: B) Receber requisi√ß√µes e deleg√°-las ou devolver p√°ginas pr√©-processadas ‚úÖ
Explica√ß√£o: O proxy reverso atua como intermedi√°rio entre clientes e servidores, recebendo requisi√ß√µes e encaminhando conforme necess√°rio.
Status: ‚úîÔ∏è Correto

6) Qual tipo de armazenamento √© conectado diretamente a um √∫nico computador?
Sua resposta: C) DAS ‚úÖ
Explica√ß√£o: DAS (Direct Attached Storage) √© um armazenamento que se conecta diretamente a um computador, sem rede intermedi√°ria.
Status: ‚úîÔ∏è Correto

7) Qual comando SNMP obt√©m um ramo inteiro de OIDs?
Sua resposta: C) snmpwalk ‚úÖ
Explica√ß√£o: snmpwalk percorre toda uma sub√°rvore de OIDs, diferente do snmpget que busca um √∫nico valor.
Status: ‚úîÔ∏è Correto

8) Quais s√£o os benef√≠cios do protocolo VTP? (B - A - D)
Sua resposta: B, A, D ‚ùå
Explica√ß√£o:

A) Correto. Ele garante consist√™ncia das VLANs entre switches.

B) Incorreto. Monitoramento n√£o √© papel do VTP.

D) Correto. Adi√ß√£o autom√°tica de VLANs entre switches.
Status: ‚ùå Errado (Letra B inv√°lida)

9) Quais informa√ß√µes o servidor DHCP pode fornecer? (B - C - D)
Sua resposta: B, C, D ‚ùå
Explica√ß√£o:

B) M√°scara de rede: Sim

C) Endere√ßo MAC: N√£o. O cliente envia o MAC, o servidor n√£o fornece isso.

D) Nome e IP do DNS: Sim
Status: ‚ùå Errado (Letra C inv√°lida)

10) Modos de opera√ß√£o do VTP (A - B)
Sua resposta: A, B ‚ùå
Explica√ß√£o: Os modos v√°lidos do VTP s√£o:

Servidor (A)

Cliente (B)

Transparente (faltou incluir C)
Status: ‚ùå Errado (faltou uma op√ß√£o correta)

11) Protocolos usados por NAS (B - D)
Sua resposta: B, D ‚ùå
Explica√ß√£o:

A) SMB/CIFS ‚Üí Correto

B) NFS ‚Üí Correto

D) SNMP ‚Üí N√£o √© usado para compartilhamento, e sim para monitoramento
Status: ‚ùå Errado (faltou A, e D est√° errada)

12) Ferramentas de monitoramento (A - B - D)
Sua resposta: A, B, D ‚úÖ
Explica√ß√£o: Zabbix, Nagios e MRTG s√£o ferramentas reconhecidas para monitoramento. FreeNAS n√£o √©.
Status: ‚úîÔ∏è Correto

13) Terceira etapa do DHCP (B)
Sua resposta: B) DHCP Request ‚úÖ
Explica√ß√£o: Ordem correta:

DHCP Discover

DHCP Offer

DHCP Request

DHCP ACK
Status: ‚úîÔ∏è Correto

14) Comando para atribuir VLAN (A)
Sua resposta: A) switchport mode trunk vlan 100 ‚ùå
Explica√ß√£o: Para atribuir uma porta a uma VLAN espec√≠fica em modo de acesso, o comando correto √©:
‚Üí switchport access vlan 100 (letra B)
Status: ‚ùå Errado

15) Comando UFW para liberar porta 22 para IP (B)
Sua resposta: B) sudo ufw allow from 192.168.0.4 to any port 22 proto tcp ‚úÖ
Explica√ß√£o: A sintaxe est√° perfeita para liberar SSH (porta 22/TCP) para um IP espec√≠fico.
Status: ‚úîÔ∏è Correto

16) Porta UDP do SNMP (B)
Sua resposta: B) 161 ‚úÖ
Explica√ß√£o: SNMP usa a porta UDP 161 para requisi√ß√µes.
Status: ‚úîÔ∏è Correto

17) Base para configurar VLAN din√¢mica (B)
Sua resposta: B) MAC e IP ‚úÖ
Explica√ß√£o: VLANs din√¢micas geralmente s√£o atribu√≠das com base no MAC address ou atributos de autentica√ß√£o.
Status: ‚úîÔ∏è Correto

18) Pacote do Squid (B)
Sua resposta: B) squid3 ‚ùå
Explica√ß√£o: A vers√£o padr√£o atual do pacote √© squid, n√£o mais squid3 (obsoleto nas vers√µes recentes do Ubuntu).
Status: ‚ùå Errado

19) Sistema base do TrueNAS (A)
Sua resposta: A) Linux ‚ùå
Explica√ß√£o: TrueNAS √© baseado em FreeBSD, n√£o Linux.
Status: ‚ùå Errado

20) Comando SNMP para traduzir OIDs (D)
Sua resposta: D) snmptranslate ‚úÖ
Explica√ß√£o: O snmptranslate √© usado para converter OIDs entre forma num√©rica e textual.
Status: ‚úîÔ∏è Correto

